name: hysteria2
services:

  hui:
    image: jonssonyan/h-ui:latest
    container_name: hui
    restart: unless-stopped
    network_mode: host
    cap_add:
      - NET_ADMIN
    volumes:
      - /DATA/AppData/$AppID/h-ui/bin:/h-ui/bin
      - /DATA/AppData/$AppID/h-ui/data:/h-ui/data
      - /DATA/AppData/$AppID/h-ui/export:/h-ui/export
      - /DATA/AppData/$AppID/h-ui/logs:/h-ui/logs
    expose:
      - 8081
      - 8082
    environment:
      - TZ=UTC
    x-casaos:
      envs:
        - container: TZ
          description:
            en_us: Timezone for the h-ui container.
      volumes:
        - container: /h-ui/bin
          description:
            en_us: Contains h-ui binary files.
        - container: /h-ui/data
          description:
            en_us: Contains h-ui data files.
        - container: /h-ui/export
          description:
            en_us: Directory for exported configuration files.
        - container: /h-ui/logs
          description:
            en_us: Contains h-ui log files.
      ports:
        - container: '8081'
          description:
            en_us: h-ui web management interface
        - container: '8082'
          description:
            en_us: h-ui SSH local forwarded port

  hysteria2:
    image: tobyxdd/hysteria:v2.2.2
    restart: unless-stopped
    network_mode: bridge
    command: server -c /etc/hysteria/config.yaml --password $public_ip
    volumes:
      - type: bind
        source: /DATA/AppData/$AppID/config
        target: /etc/hysteria
    ports:
      - target: 10801
        published: 10801
        protocol: udp
    expose:
      - 80
    x-casaos:
      envs:
        - container: TZ
          description:
            en_us: TimeZone
        - container: PUID
          description:
            en_us: Run Hysteria2 as specified uid.
        - container: PGID
          description:
            en_us: Run Hysteria2 as specified gid.
        - container: PASSWORD
          description:
            en_us: Password for Hysteria2 server authentication.
        - container: SERVER_IP
          description:
            en_us: Public IP address of the server.
        - container: SERVER_PORT
          description:
            en_us: UDP port for Hysteria2 protocol.
        - container: OBFS_PASSWORD
          description:
            en_us: Password for traffic obfuscation.
      volumes:
        - container: /etc/hysteria
          description:
            en_us: Contains Hysteria2 configuration files.
      ports:
        - container: '10801'
          description:
            en_us: Hysteria2 UDP server port
    cap_add:
      - NET_ADMIN
    sysctls:
      - net.ipv4.ip_forward=1
    container_name: hysteria2

x-casaos:
  pre-install-cmd: docker run -v /DATA/AppData/hysteria/:/DATA/AppData/hysteria/ -e PWD=$public_ip pre-install-toolbox https://cdn.jsdelivr.net/gh/Worph/AppStore@main/Apps/Hysteria/pre-install/init.sh
  architectures:
    - amd64
    - arm64
  main: hui
  tagline:
    en_us: A powerful proxy and relay utility optimized for unstable networks, now with management UI.
    zh_cn: ä¸ºä¸ç¨³å®šç½‘ç»œä¼˜åŒ–çš„å¼ºå¤§ä»£ç†å’Œä¸­ç»§å·¥å…·ï¼Œç°åœ¨å¸¦æœ‰ç®¡ç†ç•Œé¢ã€‚
    de_de: Ein leistungsstarkes Proxy- und Relay-Dienstprogramm, optimiert fÃ¼r instabile Netzwerke, jetzt mit Management-UI.
    es_es: Potente utilidad de proxy y relÃ© optimizada para redes inestables, ahora con interfaz de administraciÃ³n.
    fr_fr: Un puissant utilitaire de proxy et de relais optimisÃ© pour les rÃ©seaux instables, maintenant avec interface de gestion.
    hu_hu: ErÅ‘teljes proxy Ã©s relay eszkÃ¶z, instabil hÃ¡lÃ³zatokra optimalizÃ¡lva, most kezelÅ‘felÃ¼lettel.
    it_it: Potente utilitÃ  di proxy e relay ottimizzata per reti instabili, ora con interfaccia di gestione.
    ru_ru: ĞœĞ¾Ñ‰Ğ½Ğ°Ñ ÑƒÑ‚Ğ¸Ğ»Ğ¸Ñ‚Ğ° Ğ¿Ñ€Ğ¾ĞºÑĞ¸ Ğ¸ Ñ€ĞµÑ‚Ñ€Ğ°Ğ½ÑĞ»ÑÑ‚Ğ¾Ñ€Ğ°, Ğ¾Ğ¿Ñ‚Ğ¸Ğ¼Ğ¸Ğ·Ğ¸Ñ€Ğ¾Ğ²Ğ°Ğ½Ğ½Ğ°Ñ Ğ´Ğ»Ñ Ğ½ĞµÑÑ‚Ğ°Ğ±Ğ¸Ğ»ÑŒĞ½Ñ‹Ñ… ÑĞµÑ‚ĞµĞ¹, Ñ‚ĞµĞ¿ĞµÑ€ÑŒ Ñ Ğ¸Ğ½Ñ‚ĞµÑ€Ñ„ĞµĞ¹ÑĞ¾Ğ¼ ÑƒĞ¿Ñ€Ğ°Ğ²Ğ»ĞµĞ½Ğ¸Ñ.
    pl_pl: PotÄ™Å¼ne narzÄ™dzie proxy i przekaÅºnikowe zoptymalizowane dla niestabilnych sieci, teraz z interfejsem zarzÄ…dzania.
    pt_br: Poderoso utilitÃ¡rio de proxy e retransmissÃ£o otimizado para redes instÃ¡veis, agora com interface de gerenciamento.
    sv_se: Ett kraftfullt proxy- och relÃ¤-verktyg optimerat fÃ¶r instabila nÃ¤tverk, nu med hanteringsgrÃ¤nssnitt.
    uk_ua: ĞŸĞ¾Ñ‚ÑƒĞ¶Ğ½Ğ¸Ğ¹ Ñ–Ğ½ÑÑ‚Ñ€ÑƒĞ¼ĞµĞ½Ñ‚ Ğ¿Ñ€Ğ¾ĞºÑÑ– Ñ‚Ğ° Ñ€ĞµÑ‚Ñ€Ğ°Ğ½ÑĞ»ÑÑ†Ñ–Ñ—, Ğ¾Ğ¿Ñ‚Ğ¸Ğ¼Ñ–Ğ·Ğ¾Ğ²Ğ°Ğ½Ğ¸Ğ¹ Ğ´Ğ»Ñ Ğ½ĞµÑÑ‚Ğ°Ğ±Ñ–Ğ»ÑŒĞ½Ğ¸Ñ… Ğ¼ĞµÑ€ĞµĞ¶, Ñ‚ĞµĞ¿ĞµÑ€ Ğ· Ñ–Ğ½Ñ‚ĞµÑ€Ñ„ĞµĞ¹ÑĞ¾Ğ¼ ÑƒĞ¿Ñ€Ğ°Ğ²Ğ»Ñ–Ğ½Ğ½Ñ.
  description:
    en_us: Hysteria2 is a powerful, feature-packed proxy & relay utility optimized for less-than-ideal networks (satellite, congested public Wi-Fi, etc.). It offers high-speed connections with obfuscation capabilities to bypass network restrictions. Now includes h-ui management interface for easy user and traffic management, system monitoring, and more.
    zh_cn: Hysteria2 æ˜¯ä¸€ä¸ªåŠŸèƒ½å¼ºå¤§çš„ä»£ç†å’Œä¸­ç»§å·¥å…·ï¼Œä¸“ä¸ºéç†æƒ³ç½‘ç»œï¼ˆå«æ˜Ÿã€æ‹¥æŒ¤çš„å…¬å…± Wi-Fi ç­‰ï¼‰ä¼˜åŒ–ã€‚å®ƒæä¾›é«˜é€Ÿè¿æ¥å’Œæ··æ·†åŠŸèƒ½ï¼Œå¯ç»•è¿‡ç½‘ç»œé™åˆ¶ã€‚ç°åœ¨åŒ…å« h-ui ç®¡ç†ç•Œé¢ï¼Œè½»æ¾ç®¡ç†ç”¨æˆ·å’Œæµé‡ï¼Œç›‘æ§ç³»ç»Ÿç­‰ã€‚
    de_de: Hysteria2 ist ein leistungsstarkes, funktionsreiches Proxy- und Relay-Dienstprogramm, das fÃ¼r weniger als ideale Netzwerke (Satellit, Ã¼berlastetes Ã¶ffentliches WLAN usw.) optimiert ist. Es bietet Hochgeschwindigkeitsverbindungen mit Verschleierungsfunktionen, um NetzwerkbeschrÃ¤nkungen zu umgehen. Jetzt mit h-ui-Verwaltungsschnittstelle fÃ¼r einfache Benutzer- und Verkehrsverwaltung, SystemÃ¼berwachung und mehr.
    es_es: Hysteria2 es una potente utilidad de proxy y relÃ© repleta de funciones, optimizada para redes menos que ideales (satÃ©lite, Wi-Fi pÃºblico congestionado, etc.). Ofrece conexiones de alta velocidad con capacidades de ofuscaciÃ³n para evitar restricciones de red. Ahora incluye interfaz de administraciÃ³n h-ui para fÃ¡cil gestiÃ³n de usuarios y trÃ¡fico, monitoreo del sistema y mÃ¡s.
  developer: HyNetwork & jonssonyan
  author: TobyXDD & jonssonyan
  category: Network
  screenshot_link:
    - https://cdn.jsdelivr.net/gh/Worph/AppStore@main/Apps/Hysteria/screenshot-1.png
    - https://cdn.jsdelivr.net/gh/Worph/AppStore@main/Apps/Hysteria/screenshot-2.png
    - https://cdn.jsdelivr.net/gh/Worph/AppStore@main/Apps/Hysteria/screenshot-3.png
  icon: https://cdn.jsdelivr.net/gh/Worph/AppStore@main/Apps/Hysteria/icon.png
  thumbnail: https://cdn.jsdelivr.net/gh/Worph/AppStore@main/Apps/Hysteria/icon.png
  tips:
    before_install:
      en_us: >
        ğŸš€ Getting Started with Hysteria2
        - A default configuration will be automatically created when you first run the application.

        ğŸ“± Client Setup:
          - To use Hysteria2, you'll need to install a client on your devices.
          - We recommend Furious, a user-friendly client: https://github.com/LorenEteval/Furious/releases
        
        âš™ï¸ Advanced Configuration:
          - Want to customize your setup? You can edit the configuration file at:
            /DATA/AppData/hysteria/config/config.yaml

  title:
    en_us: Hysteria2
  index: /
  webui_port: 8081